# ğŸ”§ Ğ‘ĞµĞ·Ğ¾Ğ¿Ğ°ÑĞ½Ğ°Ñ Ğ¾Ñ‡Ğ¸ÑÑ‚ĞºĞ° Ğ¸ Ğ¿ĞµÑ€ĞµĞ·Ğ°Ğ¿ÑƒÑĞº

## Ğ’Ñ‹Ğ¿Ğ¾Ğ»Ğ½Ğ¸Ñ‚Ğµ Ğ½Ğ° ÑĞµÑ€Ğ²ĞµÑ€Ğµ:

```bash
cd /opt/reklama_bot

# 1. ĞĞ°Ğ¹Ñ‚Ğ¸ Ğ¿Ñ€Ğ¾Ñ†ĞµÑÑÑ‹ Ğ±Ğ¾Ñ‚Ğ°
ps aux | grep "main.py"

# 2. ĞĞ°Ğ¹Ñ‚Ğ¸ Ğ¿Ñ€Ğ¾Ñ†ĞµÑÑÑ‹ Ğ½Ğ° Ğ¿Ğ¾Ñ€Ñ‚Ğ°Ñ…
lsof -i :5000
lsof -i :5001

# 3. Ğ£Ğ±Ğ¸Ñ‚ÑŒ Ğ¿Ñ€Ğ¾Ñ†ĞµÑÑÑ‹ Ğ±Ğ¾Ñ‚Ğ° (Ñ‚Ğ¾Ğ»ÑŒĞºĞ¾ Ğ½Ğ°Ñˆ Ğ±Ğ¾Ñ‚)
pkill -9 -f "python3.*main.py"
pkill -9 -f "python.*main.py"

# 4. Ğ£Ğ±Ğ¸Ñ‚ÑŒ Ğ¿Ñ€Ğ¾Ñ†ĞµÑÑÑ‹ Ğ½Ğ° Ğ¿Ğ¾Ñ€Ñ‚Ğ°Ñ…
fuser -k 5000/tcp 2>/dev/null
fuser -k 5001/tcp 2>/dev/null

# 5. ĞŸĞ¾Ğ´Ğ¾Ğ¶Ğ´Ğ°Ñ‚ÑŒ
sleep 3

# 6. ĞŸÑ€Ğ¾Ğ²ĞµÑ€Ğ¸Ñ‚ÑŒ, Ñ‡Ñ‚Ğ¾ Ğ²ÑĞµ Ğ¾ÑÑ‚Ğ°Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¾
ps aux | grep "main.py" || echo "âœ… Ğ’ÑĞµ Ğ¿Ñ€Ğ¾Ñ†ĞµÑÑÑ‹ Ğ±Ğ¾Ñ‚Ğ° Ğ¾ÑÑ‚Ğ°Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ñ‹"

# 7. ĞŸÑ€Ğ¾Ğ²ĞµÑ€Ğ¸Ñ‚ÑŒ Ğ¿Ğ¾Ñ€Ñ‚ Ğ² ĞºĞ¾Ğ´Ğµ
echo "ĞŸĞ¾Ñ€Ñ‚ Ğ² ĞºĞ¾Ğ´Ğµ:"
grep "port=" main.py

# 8. ĞÑ‡Ğ¸ÑÑ‚Ğ¸Ñ‚ÑŒ ÑÑ‚Ğ°Ñ€Ñ‹Ğµ Ğ»Ğ¾Ğ³Ğ¸ (Ğ¾Ğ¿Ñ†Ğ¸Ğ¾Ğ½Ğ°Ğ»ÑŒĞ½Ğ¾)
# mv bot.log bot.log.old

# 9. Ğ—Ğ°Ğ¿ÑƒÑÑ‚Ğ¸Ñ‚ÑŒ Ğ·Ğ°Ğ½Ğ¾Ğ²Ğ¾
nohup python3 main.py > bot.log 2>&1 &

# 10. ĞŸĞ¾Ğ´Ğ¾Ğ¶Ğ´Ğ°Ñ‚ÑŒ Ğ¸ Ğ¿Ñ€Ğ¾Ğ²ĞµÑ€Ğ¸Ñ‚ÑŒ
sleep 5
echo "=== Ğ›ĞĞ“Ğ˜ ==="
tail -40 bot.log
echo ""
echo "=== ĞŸĞĞ Ğ¢Ğ« ==="
netstat -tlnp | grep -E "5000|5001" || echo "ĞŸĞ¾Ñ€Ñ‚Ñ‹ Ğ½Ğµ Ğ¾Ñ‚ĞºÑ€Ñ‹Ñ‚Ñ‹"
```

---

## âš¡ Ğ˜Ğ»Ğ¸ Ğ²ÑÑ‘ Ğ¾Ğ´Ğ½Ğ¾Ğ¹ ĞºĞ¾Ğ¼Ğ°Ğ½Ğ´Ğ¾Ğ¹:

```bash
cd /opt/reklama_bot && pkill -9 -f "main.py" && fuser -k 5000/tcp 5001/tcp 2>/dev/null && sleep 3 && grep "port=" main.py && nohup python3 main.py > bot.log 2>&1 & sleep 5 && tail -40 bot.log && netstat -tlnp | grep -E "5000|5001"
```

