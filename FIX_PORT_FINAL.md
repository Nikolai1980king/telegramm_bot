# ðŸ”§ Ð¤Ð¸Ð½Ð°Ð»ÑŒÐ½Ð¾Ðµ Ð¸ÑÐ¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð¸Ðµ Ð¿Ð¾Ñ€Ñ‚Ð°

## ÐŸÑ€Ð¾Ð±Ð»ÐµÐ¼Ð°:
ÐŸÐ¾Ñ€Ñ‚ 5000 Ð²ÑÐµ ÐµÑ‰Ðµ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÑ‚ÑÑ. ÐÑƒÐ¶Ð½Ð¾:
1. ÐŸÑ€Ð¾Ð²ÐµÑ€Ð¸Ñ‚ÑŒ, ÐºÐ°ÐºÐ¾Ð¹ Ð¿Ð¾Ñ€Ñ‚ Ð² ÐºÐ¾Ð´Ðµ
2. ÐÐ°Ð¹Ñ‚Ð¸ Ð¿Ñ€Ð¾Ñ†ÐµÑÑ Ð½Ð° Ð¿Ð¾Ñ€Ñ‚Ñƒ 5000
3. ÐžÑÑ‚Ð°Ð½Ð¾Ð²Ð¸Ñ‚ÑŒ ÐµÐ³Ð¾
4. Ð£Ð±ÐµÐ´Ð¸Ñ‚ÑŒÑÑ, Ñ‡Ñ‚Ð¾ Ð¿Ð¾Ñ€Ñ‚ Ð¸Ð·Ð¼ÐµÐ½ÐµÐ½ Ð½Ð° 5001

## ÐšÐ¾Ð¼Ð°Ð½Ð´Ñ‹:

```bash
cd /opt/reklama_bot

# 1. ÐŸÑ€Ð¾Ð²ÐµÑ€Ð¸Ñ‚ÑŒ, ÐºÐ°ÐºÐ¾Ð¹ Ð¿Ð¾Ñ€Ñ‚ Ð² ÐºÐ¾Ð´Ðµ
grep "port=" main.py

# 2. ÐÐ°Ð¹Ñ‚Ð¸ Ð¿Ñ€Ð¾Ñ†ÐµÑÑ Ð½Ð° Ð¿Ð¾Ñ€Ñ‚Ñƒ 5000
lsof -i :5000
# Ð¸Ð»Ð¸
netstat -tlnp | grep 5000

# 3. ÐžÑÑ‚Ð°Ð½Ð¾Ð²Ð¸Ñ‚ÑŒ Ð²ÑÐµ Ð¿Ñ€Ð¾Ñ†ÐµÑÑÑ‹ Ð±Ð¾Ñ‚Ð°
pkill -9 -f "python3 main.py"
pkill -9 -f "python.*main.py"

# 4. ÐžÑÑ‚Ð°Ð½Ð¾Ð²Ð¸Ñ‚ÑŒ Ð¿Ñ€Ð¾Ñ†ÐµÑÑ Ð½Ð° Ð¿Ð¾Ñ€Ñ‚Ñƒ 5000 (ÐµÑÐ»Ð¸ ÐµÑÑ‚ÑŒ)
fuser -k 5000/tcp 2>/dev/null
kill -9 $(lsof -t -i:5000) 2>/dev/null

# 5. ÐŸÑ€Ð¾Ð²ÐµÑ€Ð¸Ñ‚ÑŒ Ð¸ Ð¸Ð·Ð¼ÐµÐ½Ð¸Ñ‚ÑŒ Ð¿Ð¾Ñ€Ñ‚ Ð½Ð° 5001
grep "port=" main.py
sed -i 's/port=5000/port=5001/g' main.py
grep "port=" main.py  # ÐŸÑ€Ð¾Ð²ÐµÑ€Ð¸Ñ‚ÑŒ, Ñ‡Ñ‚Ð¾ Ð¸Ð·Ð¼ÐµÐ½Ð¸Ð»Ð¾ÑÑŒ

# 6. ÐŸÐµÑ€ÐµÐ·Ð°Ð¿ÑƒÑÑ‚Ð¸Ñ‚ÑŒ Ð±Ð¾Ñ‚
nohup python3 main.py > bot.log 2>&1 &

# 7. ÐŸÐ¾Ð´Ð¾Ð¶Ð´Ð°Ñ‚ÑŒ Ð¸ Ð¿Ñ€Ð¾Ð²ÐµÑ€Ð¸Ñ‚ÑŒ
sleep 5
tail -30 bot.log
netstat -tlnp | grep 5001
```

